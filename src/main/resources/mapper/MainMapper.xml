<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mytreasurearchive.mapper.MainMapper">
	
	<!-- //전체 리스트 -->
    <select id="itemList" resultType="com.mytreasurearchive.domain.Item">
        SELECT * FROM item
    </select>

	<!-- 카테고리 리스트 -->
	<select id ="getCategory" parameterType = "String" resultType = "com.mytreasurearchive.domain.Item">
		SELECT * FROM item
		WHERE category = #{category}	
	</select>
	
	<!-- 글 추가  -->
	<insert id="add" parameterType="com.mytreasurearchive.domain.Item">
    INSERT INTO item (title, category, reason, extra1, extra2, image)
    VALUES (#{title}, #{category}, #{reason}, #{extra1}, #{extra2}, #{image})
</insert>
	
	<!-- 삭제 -->
	<delete id="delete" parameterType = "long">
	DELETE FROM item WHERE id = #{id}
	</delete>
	
	<!-- 게시글 하나 -->
	<select id="getItem" parameterType = "long" resultType = "com.mytreasurearchive.domain.Item">
		SELECT * FROM item WHERE id = #{id}
	</select>
	
	<!-- 게시글 수정 -->
	<update id="modify" parameterType="com.mytreasurearchive.domain.Item">
		UPDATE item SET 
		    title = #{title},
		    category = #{category},
		    image = #{image},    
		    extra1 = #{extra1},
		    extra2 = #{extra2},
		    reason = #{reason}
		WHERE id = #{id};
	</update>
</mapper>
